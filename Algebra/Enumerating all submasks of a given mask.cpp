int s = m;
while (s > 0) {
 ... you can use s ...
 s = (s-1) & m;
}
